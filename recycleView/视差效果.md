###onBind首次加载图片时：
```Java
             final ObjectAnimator animator = ObjectAnimator.ofFloat(loadingImg, "rotation", 0, 360).setDuration(1000);
            animator.setRepeatCount(-1);
            animator.setInterpolator(new LinearInterpolator());
            animator.start();
            loadingImg.setTag(animator);
            final long time = System.currentTimeMillis();
            cover.setTag(time);
            Glide.with(this).load(s.coverUrl).asBitmap().diskCacheStrategy(DiskCacheStrategy.ALL).override(screenWidth, screenWidth).into(new SimpleTarget<Bitmap>(screenWidth, screenWidth) {
                @Override
                public void onResourceReady(final Bitmap resource, GlideAnimation<? super Bitmap> glideAnimation) {
                    final FrameLayout.LayoutParams p = (FrameLayout.LayoutParams) imageView.getLayoutParams();
                    cover.post(new Runnable() {
                        @Override
                        public void run() {
                            int[] location = new int[2];
                            cover.getLocationOnScreen(location);
                            int imgCenter = location[1] + viewHeight / 2;
                            float bmpW = resource.getWidth();
                            float bmpH = resource.getHeight();
                            float rate = bmpW / bmpH;
                            if (rate < 2) {
                                p.width = cover.getMeasuredWidth();
                                p.height = (int) (p.width / bmpW * bmpH);
                                p.leftMargin = 0;
                                float mid = Utils.getScreenHeight() / 2;
                                float maxHeight = p.height;
                                if (rate <= 1) {
                                    maxHeight = p.width;
                                }
                                p.topMargin = -(int) (imgCenter / mid * ((maxHeight - viewHeight) / 2));
                            } else if (rate == 2) {
                                p.height = viewHeight;
                                p.width = cover.getMeasuredWidth();
                                p.leftMargin = 0;
                                p.topMargin = 0;
                            } else {
                                p.height = viewHeight;
                                p.width = (int) (viewHeight / bmpH * bmpW);
                                p.leftMargin = -((p.width - viewHeight * 2) / 2);
                                p.topMargin = 0;
                            }
                            imageView.setLayoutParams(p);
                            imageView.post(new Runnable() {
                                @Override
                                public void run() {
                                    if ((long) cover.getTag() == time) {
                                        imageView.setImageBitmap(resource);
                                        ((ObjectAnimator) loadingImg.getTag()).end();
                                        loadingImg.setVisibility(View.GONE);
                                    }
                                }
                            });
                        }
                    });
                }
            });
        }
```


###recycleview设置监听

```Java
getRecyclerView().setOnScrollListener(new RecyclerView.OnScrollListener() {
            @Override
            public void onScrollStateChanged(RecyclerView recyclerView, int newState) {
                super.onScrollStateChanged(recyclerView, newState);
            }

            @Override
            public void onScrolled(RecyclerView recyclerView, int dx, int dy) {
                super.onScrolled(recyclerView, dx, dy);
                int start = ((LinearLayoutManager) getLayoutManager()).findFirstVisibleItemPosition();
                int end = ((LinearLayoutManager) getLayoutManager()).findLastVisibleItemPosition();
                int size = end - start + 1;
                for (int i = 0; i < size; i++) {
                    View view = recyclerView.getChildAt(i);
                    if (null == view) continue;
                    View c = view.findViewById(R.id.cover_container);
                    if (null == c) return;
                    if (c.getVisibility() == View.VISIBLE) {
                        ImageView imageView = (ImageView) view.findViewById(R.id.cover_img);
                        if (null == imageView) continue;
                        animateImg(c, imageView, dy);
                    }
                }
            }
        });
        
```
```Java
private void animateImg(View container, ImageView imageView, float dy) {
        if (null == imageView || null == container) return;
        int[] location = new int[2];
        container.getLocationOnScreen(location);
        int imgCenter = location[1] + viewHeight / 2;
        float bmpW = imageView.getWidth();
        float bmpH = imageView.getHeight();
        FrameLayout.LayoutParams p = (FrameLayout.LayoutParams) imageView.getLayoutParams();
        float rate = bmpW / bmpH;
        float mid = Utils.getScreenHeight() / 2;
        if (rate < 2) {
            float maxHeight = p.height;
            if (rate <= 1) {
                maxHeight = p.width;
            }
            p.topMargin = -(int) (imgCenter / mid * ((maxHeight - viewHeight) / 2));
        }
        imageView.setLayoutParams(p);
    }
```
        
        
